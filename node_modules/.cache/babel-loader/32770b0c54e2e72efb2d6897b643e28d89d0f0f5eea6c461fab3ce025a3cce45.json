{"ast":null,"code":"import React,{Component}from\"react\";import'./d3-celestial/d3.min.js';import'./d3-celestial/d3.geo.projection.min.js';import'./d3-celestial/celestial.min.js';import'./d3-celestial/celestial.css';import{jsx as _jsx}from\"react/jsx-runtime\";export default class CelestialMap extends Component{constructor(props){super(props);this.state={centerLong:null,centerLat:null};}componentDidMount(){const centerLong=parseInt(this.props.centerLong);const centerLat=parseInt(this.props.centerLat);var config={projection:\"airy\",zoomlevel:3,center:[centerLong,centerLat],follow:\"center\",background:{fill:\"#333\",stroke:\"#b3b300\",opacity:1,width:2},container:\"celestial-map\",datapath:\"/d3-celestial/\",constellations:{names:true,namesType:\"iau\",nameStyle:{fill:[\"#fec\",\"#f6c\",\"#fec\"],opacity:0.9,font:[\"bold 13px 'Lucida Sans Unicode', Trebuchet, Helvetica, Arial, sans-serif\",\"18px 'Nehanda-SpiritMedium', 'Lucida Sans Unicode', Trebuchet, Helvetica, Arial, sans-serif\",\"14px 'Lucida Sans Unicode', Trebuchet, Helvetica, Arial, sans-serif\"],align:\"center\",baseline:\"middle\"},lines:true,lineStyle:{stroke:[\"#99c\",\"#f6c\",\"#99c\"],width:[2,2.5,2],opacity:0.75},bounds:true,boundStyle:{stroke:\"#ffff00\",width:1.0,opacity:0.7,dash:[8,4,2,4]}},stars:{limit:5,propername:true,propernameStyle:{fill:\"#9999bb\",font:\"13px 'Palatino Linotype', Georgia, Times, 'Times Roman', serif\",align:\"right\",baseline:\"bottom\"},propernameLimit:2,designation:true,designationStyle:{fill:\"#9999bb\",font:\"11px 'Palatino Linotype', Georgia, Times, 'Times Roman', serif\",align:\"left\",baseline:\"top\"},designationLimit:2.5},dsos:{show:false},mw:{style:{fill:\"#ffffff\",opacity:0.1}},planets:{show:true,names:true}};window.Celestial.display(config);this.setState({centerLong:centerLong,centerLat:centerLat});}componentDidUpdate(prevProps){if(this.props.framedView&&this.props.framedView!==prevProps.framedView){window.Celestial.rotate(this.props.framedView);}}resetMapToCenter(){window.Celestial.rotate({center:[this.state.centerLong,this.state.centerLat]});}render(){return/*#__PURE__*/_jsx(\"div\",{ref:el=>this.mapContainer=el,className:\"celestial-MainMap\",id:\"celestial-map\"});}}","map":{"version":3,"names":["React","Component","jsx","_jsx","CelestialMap","constructor","props","state","centerLong","centerLat","componentDidMount","parseInt","config","projection","zoomlevel","center","follow","background","fill","stroke","opacity","width","container","datapath","constellations","names","namesType","nameStyle","font","align","baseline","lines","lineStyle","bounds","boundStyle","dash","stars","limit","propername","propernameStyle","propernameLimit","designation","designationStyle","designationLimit","dsos","show","mw","style","planets","window","Celestial","display","setState","componentDidUpdate","prevProps","framedView","rotate","resetMapToCenter","render","ref","el","mapContainer","className","id"],"sources":["C:/Users/alessandromusetta/node-app/cultura-estelar/src/CelestialMap.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport './d3-celestial/d3.min.js';\nimport './d3-celestial/d3.geo.projection.min.js';\nimport './d3-celestial/celestial.min.js';\nimport './d3-celestial/celestial.css';\n\nexport default class CelestialMap extends Component {\n  constructor(props) {\n      super(props);\n      this.state = {\n        centerLong: null,\n        centerLat: null\n      };\n  }\n\n  static propTypes = {\n    activePoint: PropTypes.object,\n    points: PropTypes.object,\n    framedView: PropTypes.object,\n  };\n\n  componentDidMount() { \n    const centerLong = parseInt(this.props.centerLong);\n    const centerLat = parseInt(this.props.centerLat);\n\n    var config = { \n        projection: \"airy\", \n        zoomlevel: 3,\n        center: [centerLong, centerLat],\n        follow: \"center\",\n        background: { fill: \"#333\", stroke: \"#b3b300\", opacity: 1, width: 2 },\n        container: \"celestial-map\", \n        datapath: \"/d3-celestial/\",\n\n        constellations: {\n          names: true,\n          namesType: \"iau\",\n          nameStyle: { fill: [\"#fec\", \"#f6c\", \"#fec\"], opacity:0.9, font: [\"bold 13px 'Lucida Sans Unicode', Trebuchet, Helvetica, Arial, sans-serif\", \"18px 'Nehanda-SpiritMedium', 'Lucida Sans Unicode', Trebuchet, Helvetica, Arial, sans-serif\", \"14px 'Lucida Sans Unicode', Trebuchet, Helvetica, Arial, sans-serif\"], align: \"center\", baseline: \"middle\" },\n          lines: true,\n          lineStyle: { stroke: [\"#99c\", \"#f6c\", \"#99c\"], width: [2, 2.5, 2], opacity: 0.75 },\n          bounds: true,\n          boundStyle: { stroke: \"#ffff00\", width: 1.0, opacity: 0.7, dash: [8, 4, 2, 4] }\n        },\n        stars: { \n          limit: 5,\n          propername: true,\n          propernameStyle: { fill: \"#9999bb\", font: \"13px 'Palatino Linotype', Georgia, Times, 'Times Roman', serif\", align: \"right\", baseline: \"bottom\" },\n          propernameLimit: 2,\n          designation: true,\n          designationStyle: { fill: \"#9999bb\", font: \"11px 'Palatino Linotype', Georgia, Times, 'Times Roman', serif\", align: \"left\", baseline: \"top\" },\n          designationLimit: 2.5,\n        },\n        dsos: { \n          show: false\n        },\n        mw: { \n          style: { fill:\"#ffffff\", opacity: 0.1 } \n        },\n        planets: {\n          show: true,\n          names: true\n        }\n    };\n      \n    window.Celestial.display(config); \n\n    this.setState({\n      centerLong: centerLong,\n      centerLat: centerLat\n    })\n  }\n\n  componentDidUpdate(prevProps) {\n    if (\n      this.props.framedView &&\n      this.props.framedView !== prevProps.framedView\n    ) {\n      window.Celestial.rotate(this.props.framedView)   \n    }\n  }\n\n  resetMapToCenter() {\n    window.Celestial.rotate({center:[this.state.centerLong, this.state.centerLat]})\n  }\n\n  render() {\n      return <div ref={el => (this.mapContainer = el)} className=\"celestial-MainMap\" id=\"celestial-map\"></div>\n  }    \n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}