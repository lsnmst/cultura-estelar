{"ast":null,"code":"import React,{Component}from'react';import Select from'react-select';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const SORT_CRITERIA=['most_recent','alphabetical','reversed_alphabetical'];class Sort extends Component{constructor(props){super(props);this.optionsHash=values=>{return values.map(value=>{return this.option(value);});};this.option=value=>{let label;if(value===\"most_recent\"){label=\"Most recent\";}else if(value===\"alphabetical\"){label=\"Alphabetical\";}else if(value===\"reversed_alphabetical\"){label=\"Reverse alphabetical\";}else{label=\"\";};return{value:value,label:label};};this.handleSort=option=>{this.setState({sortSelectValue:option.value});let sortedStories=[];switch(option.value){case SORT_CRITERIA[0]:{// most recent\nsortedStories=this.props.stories.sort((story1,story2)=>{if(story1.created_at<story2.created_at){return 1;}if(story1.created_at>story2.created_at){return-1;}return 0;});break;}case SORT_CRITERIA[1]:{sortedStories=this.props.stories.sort((story1,story2)=>{if(story1.title>story2.title){return 1;}if(story1.title<story2.title){return-1;}return 0;});break;}case SORT_CRITERIA[2]:{sortedStories=this.props.stories.sort((story1,story2)=>{if(story1.title<story2.title){return 1;}if(story1.title>story2.title){return-1;}return 0;});break;}}this.props.handleStoriesChanged(sortedStories);};this.state={sortSelectValue:SORT_CRITERIA[0]};}componentDidMount(){this.handleSort(this.option(this.state.sortSelectValue));}render(){return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"card--nav-sort\",children:\"Sort stories: \"}),/*#__PURE__*/_jsx(Select,{className:\"storiesSort\",classNamePrefix:\"select\",name:\"sort-stories\",onChange:this.handleSort,value:this.option(this.state.sortSelectValue),options:this.optionsHash(SORT_CRITERIA)})]});}}Sort.defaultProps={stories:[],handleStoriesChanged:()=>{}};export default Sort;","map":{"version":3,"names":["React","Component","Select","jsx","_jsx","jsxs","_jsxs","SORT_CRITERIA","Sort","constructor","props","optionsHash","values","map","value","option","label","handleSort","setState","sortSelectValue","sortedStories","stories","sort","story1","story2","created_at","title","handleStoriesChanged","state","componentDidMount","render","Fragment","children","className","classNamePrefix","name","onChange","options","defaultProps"],"sources":["C:/Users/alessandromusetta/node-app/cultura-estelar/src/Sort.js"],"sourcesContent":["import React, { Component } from 'react';\nimport Select from 'react-select';\nimport PropTypes from 'prop-types';\n\nconst SORT_CRITERIA = ['most_recent', 'alphabetical', 'reversed_alphabetical'];\n\nclass Sort extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      sortSelectValue: SORT_CRITERIA[0]\n    };\n  }\n\n  static propTypes = {\n    stories: PropTypes.array,\n    handleStoriesChanged: PropTypes.func\n  };\n\n  static defaultProps = {\n    stories: [],\n    handleStoriesChanged: () => {}\n  };\n\n  componentDidMount() {\n    this.handleSort(this.option(this.state.sortSelectValue));\n  }\n\n  optionsHash = values => {\n    return values.map(value => {\n      return this.option(value);\n    });\n  }\n\n  option = value => {\n    let label;\n    if (value === \"most_recent\") {\n      label = \"Most recent\"\n    } else if (value === \"alphabetical\") {\n      label = \"Alphabetical\"\n    } else if (value === \"reversed_alphabetical\") {\n      label = \"Reverse alphabetical\"\n    } else {\n      label = \"\"\n    };\n    return {value: value, label: label};\n  }\n\n  handleSort = (option) => {\n    this.setState({\n      sortSelectValue: option.value\n    });\n\n    let sortedStories = [];\n\n    switch (option.value) {\n      case SORT_CRITERIA[0]: {\n        // most recent\n        sortedStories = this.props.stories.sort((story1, story2) => {\n          if (story1.created_at < story2.created_at) {\n            return 1;\n          }\n\n          if (story1.created_at > story2.created_at) {\n            return -1;\n          }\n\n          return 0;\n        });\n\n        break;\n      }\n      case SORT_CRITERIA[1]: {\n        sortedStories = this.props.stories.sort((story1, story2) => {\n          if (story1.title > story2.title) {\n            return 1;\n          }\n\n          if (story1.title < story2.title) {\n            return -1;\n          }\n\n          return 0;\n        });\n\n        break;\n      }\n      case SORT_CRITERIA[2]: {\n        sortedStories = this.props.stories.sort((story1, story2) => {\n          if (story1.title < story2.title) {\n            return 1;\n          }\n\n          if (story1.title > story2.title) {\n            return -1;\n          }\n\n          return 0;\n        });\n\n        break;\n      }\n    }\n\n    this.props.handleStoriesChanged(sortedStories);\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <span className=\"card--nav-sort\">Sort stories: </span>\n        <Select\n          className=\"storiesSort\"\n          classNamePrefix=\"select\"\n          name=\"sort-stories\"\n          onChange={this.handleSort}\n          value={this.option(this.state.sortSelectValue)}\n          options={this.optionsHash(SORT_CRITERIA)}\n        />\n      </React.Fragment>\n    );\n  }\n}\n\nexport default Sort;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}