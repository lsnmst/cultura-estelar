{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alessandromusetta\\\\node-app\\\\cultura-estelar\\\\src\\\\StoryMedia.js\";\nimport React, { PureComponent } from \"react\";\nimport PropTypes from 'prop-types';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass StoryMedia extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      explicitVideoHeight: null\n    };\n  }\n  renderAudio() {\n    const {\n      file\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(\"audio\", {\n      id: `audio-player${file.blob.id}`,\n      controls: true,\n      children: /*#__PURE__*/_jsxDEV(\"source\", {\n        src: file.url,\n        type: file.blob.content_type\n      }, this.props.key, false, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 7\n    }, this);\n  }\n  renderImage() {\n    const {\n      file\n    } = this.props;\n    const {\n      explicitVideoHeight\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"img\", {\n      id: `img${file.blob.id}`,\n      className: \"img-player\",\n      width: \"80%\",\n      ref: \"img\",\n      src: file.url\n    }, this.props.key, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this);\n  }\n  renderVideo() {\n    const {\n      file\n    } = this.props;\n    const {\n      explicitVideoHeight\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"video\", {\n      id: `video-player${file.blob.id}`,\n      className: \"video-player\",\n      height: explicitVideoHeight,\n      playsInline: true,\n      controls: true,\n      disablePictureInPicture: true,\n      controlsList: \"nodownload\",\n      ref: \"video\",\n      children: /*#__PURE__*/_jsxDEV(\"source\", {\n        src: file.url,\n        type: file.blob.content_type\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)\n    }, this.props.key, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this);\n  }\n  render() {\n    if (this.props.file.blob.content_type.indexOf(\"video\") !== -1) {\n      return this.renderVideo();\n    } else if (this.props.file.blob.content_type.indexOf(\"audio\") !== -1) {\n      return this.renderAudio();\n    } else {\n      return this.renderImage();\n    }\n  }\n  componentDidMount() {\n    const video = this.refs.video;\n    if (!!video === true) {\n      video.addEventListener('loadeddata', event => {\n        const aspectRatio = video.videoWidth / video.videoHeight;\n        const newExplicitVideoHeight = video.offsetWidth / aspectRatio;\n        this.setState({\n          explicitVideoHeight: newExplicitVideoHeight\n        });\n      });\n      video.addEventListener('play', event => {\n        window.pauseAllVideos(event.target);\n      }, true);\n    }\n  }\n}\nStoryMedia.propTypes = {\n  file: PropTypes.object\n};\nexport default StoryMedia;","map":{"version":3,"names":["React","PureComponent","PropTypes","jsxDEV","_jsxDEV","StoryMedia","constructor","props","state","explicitVideoHeight","renderAudio","file","id","blob","controls","children","src","url","type","content_type","key","fileName","_jsxFileName","lineNumber","columnNumber","renderImage","className","width","ref","renderVideo","height","playsInline","disablePictureInPicture","controlsList","render","indexOf","componentDidMount","video","refs","addEventListener","event","aspectRatio","videoWidth","videoHeight","newExplicitVideoHeight","offsetWidth","setState","window","pauseAllVideos","target","propTypes","object"],"sources":["C:/Users/alessandromusetta/node-app/cultura-estelar/src/StoryMedia.js"],"sourcesContent":["import React, { PureComponent } from \"react\";\nimport PropTypes from 'prop-types';\n\nclass StoryMedia extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      explicitVideoHeight: null\n    }\n  }\n\n  static propTypes = {\n    file: PropTypes.object\n  };\n\n  renderAudio() {\n    const { file } = this.props;\n    return (\n      <audio id={`audio-player${file.blob.id}`} controls>\n        <source src={file.url} type={file.blob.content_type} key={this.props.key} />\n      </audio>\n    );\n  }\n\n  renderImage() {\n    const { file } = this.props;\n    const { explicitVideoHeight } = this.state;\n    return (\n      <img\n        id = {`img${file.blob.id}`}\n        className=\"img-player\"\n        width=\"80%\"\n        key={this.props.key}\n        ref=\"img\"\n        src={file.url}\n        >\n        </img>\n    )\n  }\n\n  renderVideo() {\n    const { file } = this.props;\n    const { explicitVideoHeight } = this.state;\n    return (\n      <video\n        id={`video-player${file.blob.id}`}\n        className=\"video-player\"\n        height={explicitVideoHeight}\n        playsInline\n        controls\n        disablePictureInPicture={true}\n        controlsList='nodownload'\n        key={this.props.key}\n        ref=\"video\"\n      >\n        <source src={file.url} type={file.blob.content_type} />\n      </video>\n    );\n  }\n\n  render() {\n    if (this.props.file.blob.content_type.indexOf(\"video\") !== -1)\n    {\n      return this.renderVideo();\n    }\n    else if (this.props.file.blob.content_type.indexOf(\"audio\") !== -1)\n    {\n      return this.renderAudio();\n    }\n    else{\n      return this.renderImage();\n    }\n  }\n\n  componentDidMount() {\n    const video = this.refs.video;\n\n    if (!!video === true) {\n      video.addEventListener('loadeddata', (event) => {\n        const aspectRatio = video.videoWidth / video.videoHeight;\n        const newExplicitVideoHeight = video.offsetWidth / aspectRatio;\n        this.setState({ explicitVideoHeight: newExplicitVideoHeight });\n      });\n      video.addEventListener('play', (event) => {\n        window.pauseAllVideos(event.target);\n      }, true);\n    }\n  }\n}\n\nexport default StoryMedia;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,aAAa,QAAQ,OAAO;AAC5C,OAAOC,SAAS,MAAM,YAAY;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnC,MAAMC,UAAU,SAASJ,aAAa,CAAC;EACrCK,WAAWA,CAACC,KAAK,EAAE;IACjB,KAAK,CAACA,KAAK,CAAC;IACZ,IAAI,CAACC,KAAK,GAAG;MACXC,mBAAmB,EAAE;IACvB,CAAC;EACH;EAMAC,WAAWA,CAAA,EAAG;IACZ,MAAM;MAAEC;IAAK,CAAC,GAAG,IAAI,CAACJ,KAAK;IAC3B,oBACEH,OAAA;MAAOQ,EAAE,EAAG,eAAcD,IAAI,CAACE,IAAI,CAACD,EAAG,EAAE;MAACE,QAAQ;MAAAC,QAAA,eAChDX,OAAA;QAAQY,GAAG,EAAEL,IAAI,CAACM,GAAI;QAACC,IAAI,EAAEP,IAAI,CAACE,IAAI,CAACM;MAAa,GAAM,IAAI,CAACZ,KAAK,CAACa,GAAG;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACvE,CAAC;EAEZ;EAEAC,WAAWA,CAAA,EAAG;IACZ,MAAM;MAAEd;IAAK,CAAC,GAAG,IAAI,CAACJ,KAAK;IAC3B,MAAM;MAAEE;IAAoB,CAAC,GAAG,IAAI,CAACD,KAAK;IAC1C,oBACEJ,OAAA;MACEQ,EAAE,EAAK,MAAKD,IAAI,CAACE,IAAI,CAACD,EAAG,EAAE;MAC3Bc,SAAS,EAAC,YAAY;MACtBC,KAAK,EAAC,KAAK;MAEXC,GAAG,EAAC,KAAK;MACTZ,GAAG,EAAEL,IAAI,CAACM;IAAI,GAFT,IAAI,CAACV,KAAK,CAACa,GAAG;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAId,CAAC;EAEZ;EAEAK,WAAWA,CAAA,EAAG;IACZ,MAAM;MAAElB;IAAK,CAAC,GAAG,IAAI,CAACJ,KAAK;IAC3B,MAAM;MAAEE;IAAoB,CAAC,GAAG,IAAI,CAACD,KAAK;IAC1C,oBACEJ,OAAA;MACEQ,EAAE,EAAG,eAAcD,IAAI,CAACE,IAAI,CAACD,EAAG,EAAE;MAClCc,SAAS,EAAC,cAAc;MACxBI,MAAM,EAAErB,mBAAoB;MAC5BsB,WAAW;MACXjB,QAAQ;MACRkB,uBAAuB,EAAE,IAAK;MAC9BC,YAAY,EAAC,YAAY;MAEzBL,GAAG,EAAC,OAAO;MAAAb,QAAA,eAEXX,OAAA;QAAQY,GAAG,EAAEL,IAAI,CAACM,GAAI;QAACC,IAAI,EAAEP,IAAI,CAACE,IAAI,CAACM;MAAa;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE;IAAC,GAHlD,IAAI,CAACjB,KAAK,CAACa,GAAG;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAId,CAAC;EAEZ;EAEAU,MAAMA,CAAA,EAAG;IACP,IAAI,IAAI,CAAC3B,KAAK,CAACI,IAAI,CAACE,IAAI,CAACM,YAAY,CAACgB,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,EAC7D;MACE,OAAO,IAAI,CAACN,WAAW,CAAC,CAAC;IAC3B,CAAC,MACI,IAAI,IAAI,CAACtB,KAAK,CAACI,IAAI,CAACE,IAAI,CAACM,YAAY,CAACgB,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,EAClE;MACE,OAAO,IAAI,CAACzB,WAAW,CAAC,CAAC;IAC3B,CAAC,MACG;MACF,OAAO,IAAI,CAACe,WAAW,CAAC,CAAC;IAC3B;EACF;EAEAW,iBAAiBA,CAAA,EAAG;IAClB,MAAMC,KAAK,GAAG,IAAI,CAACC,IAAI,CAACD,KAAK;IAE7B,IAAI,CAAC,CAACA,KAAK,KAAK,IAAI,EAAE;MACpBA,KAAK,CAACE,gBAAgB,CAAC,YAAY,EAAGC,KAAK,IAAK;QAC9C,MAAMC,WAAW,GAAGJ,KAAK,CAACK,UAAU,GAAGL,KAAK,CAACM,WAAW;QACxD,MAAMC,sBAAsB,GAAGP,KAAK,CAACQ,WAAW,GAAGJ,WAAW;QAC9D,IAAI,CAACK,QAAQ,CAAC;UAAErC,mBAAmB,EAAEmC;QAAuB,CAAC,CAAC;MAChE,CAAC,CAAC;MACFP,KAAK,CAACE,gBAAgB,CAAC,MAAM,EAAGC,KAAK,IAAK;QACxCO,MAAM,CAACC,cAAc,CAACR,KAAK,CAACS,MAAM,CAAC;MACrC,CAAC,EAAE,IAAI,CAAC;IACV;EACF;AACF;AArFM5C,UAAU,CAQP6C,SAAS,GAAG;EACjBvC,IAAI,EAAET,SAAS,CAACiD;AAClB,CAAC;AA6EH,eAAe9C,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}